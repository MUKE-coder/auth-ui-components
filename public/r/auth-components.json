{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "auth-components",
  "title": "JB Better Auth UI Components",
  "description": "A complete set of authentication components using better-auth with email OTP verification, social login, and profile management.",
  "dependencies": [
    "better-auth",
    "zod",
    "react-hook-form",
    "@hookform/resolvers",
    "sonner",
    "lucide-react",
    "input-otp",
    "@prisma/adapter-pg",
    "@prisma/client",
    "pg",
    "dotenv",
    "resend",
    "@react-email/components"
  ],
  "devDependencies": [
    "prisma",
    "tsx",
    "@types/pg"
  ],
  "registryDependencies": [
    "button",
    "input",
    "form",
    "label",
    "card",
    "separator",
    "input-otp",
    "avatar",
    "sidebar",
    "tabs",
    "table",
    "checkbox",
    "select",
    "badge",
    "progress",
    "textarea"
  ],
  "files": [
    {
      "path": "registry/default/ui/auth-forms/sign-in.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { signInSchema, type SignInInput } from '@/lib/auth-schemas'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\nimport { Icons, AppLogoIcon } from '@/components/icons'\nimport { authClient } from '@/lib/auth-client'\nimport { useRouter } from 'next/navigation'\nimport { toast } from 'sonner'\nimport { Eye, EyeOff } from 'lucide-react'\n\nexport function SignIn() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n\n  const form = useForm<SignInInput>({\n    resolver: zodResolver(signInSchema),\n    defaultValues: {\n      email: '',\n      password: '',\n    },\n  })\n\n  async function onSubmit(data: SignInInput) {\n    setIsLoading(true)\n    await authClient.signIn.email({\n      email: data.email,\n      password: data.password,\n    }, {\n      onRequest: () => {\n        // toast.info(\"Signing in...\")\n      },\n      onSuccess: () => {\n        toast.success(\"Signed in successfully!\")\n        router.push(\"/dashboard\")\n      },\n      onError: (ctx) => {\n        form.setError('root', {\n          message: ctx.error.message,\n        })\n        toast.error(ctx.error.message)\n        setIsLoading(false)\n      }\n    })\n  }\n\n  async function handleSocialSignIn(provider: \"google\" | \"github\") {\n    await authClient.signIn.social({\n      provider,\n      callbackURL: \"/dashboard\",\n    }, {\n      onSuccess: () => {\n        toast.success(`Signed in with ${provider} successfully!`)\n      },\n      onError: (ctx) => {\n        toast.error(ctx.error.message)\n      }\n    })\n  }\n\n  return (\n    <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n      <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n        <div className=\"p-8 pb-6\">\n          <Link href=\"/\" aria-label=\"go home\">\n            <AppLogoIcon className=\"h-10 fill-current text-black sm:h-12\" />\n          </Link>\n          <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Sign in to Tailark</h1>\n          <p className=\"text-sm text-muted-foreground\">Welcome back! Sign in to continue</p>\n\n          <div className=\"mt-6 grid grid-cols-2 gap-3\">\n            <Button type=\"button\" variant=\"outline\" disabled={isLoading} onClick={() => handleSocialSignIn(\"google\")}>\n              <Icons.google className=\"h-4 w-4\" />\n              <span>Google</span>\n            </Button>\n            <Button type=\"button\" variant=\"outline\" disabled={isLoading} onClick={() => handleSocialSignIn(\"github\")}>\n              <Icons.gitHub className=\"h-4 w-4\" />\n              <span>Github</span>\n            </Button>\n          </div>\n\n          <hr className=\"my-4 border-dashed\" />\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Email</FormLabel>\n                    <FormControl>\n                      <Input type=\"email\" placeholder=\"you@example.com\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-0.5\">\n                    <div className=\"flex items-center justify-between\">\n                      <FormLabel className=\"text-sm\">Password</FormLabel>\n                      <Button asChild variant=\"link\" size=\"sm\">\n                        <Link href=\"/auth/forgot-password\" className=\"text-sm\">\n                          Forgot your Password?\n                        </Link>\n                      </Button>\n                    </div>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowPassword(!showPassword)}\n                        >\n                          {showPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Signing in...' : 'Sign in'}\n              </Button>\n            </form>\n          </Form>\n        </div>\n\n        <div className=\"rounded-lg border bg-muted p-3\">\n          <p className=\"text-center text-sm\">\n            Don&apos;t have an account?\n            <Button asChild variant=\"link\" className=\"ml-3 px-2\">\n              <Link href=\"/auth/sign-up\">Create account</Link>\n            </Button>\n          </p>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/sign-in.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/sign-up.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { signUpSchema, type SignUpInput } from '@/lib/auth-schemas'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\nimport { Icons, AppLogoIcon } from '@/components/icons'\nimport { authClient } from '@/lib/auth-client'\nimport { useRouter } from 'next/navigation'\nimport { toast } from 'sonner'\nimport { Eye, EyeOff } from 'lucide-react'\n\nexport function SignUp() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n\n  const form = useForm<SignUpInput>({\n    resolver: zodResolver(signUpSchema),\n    defaultValues: {\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n    },\n  })\n\n  async function onSubmit(data: SignUpInput) {\n    setIsLoading(true)\n    await authClient.signUp.email({\n        email: data.email,\n        password: data.password,\n        name: data.name,\n        callbackURL: \"/dashboard\",\n    }, {\n        onSuccess: async () => {\n            // Send OTP after successful signup\n            await authClient.emailOtp.sendVerificationOtp({\n                email: data.email,\n                type: \"email-verification\"\n            }, {\n                onSuccess: () => {\n                    toast.success(\"Account created! Please check your email.\")\n                    sessionStorage.setItem(\"verify_email\", data.email)\n                    router.push(\"/auth/verify-email\")\n                },\n                onError: (ctx) => {\n                    toast.error(\"Account created but failed to send verification email. Please try resending.\")\n                    sessionStorage.setItem(\"verify_email\", data.email)\n                    router.push(\"/auth/verify-email\")\n                    setIsLoading(false)\n                }\n            })\n        },\n        onError: (ctx) => {\n             console.log(\"SIGNUP ERROR CONTEXT:\", ctx)\n             form.setError('root', {\n                message: ctx.error.message || \"Signup failed\",\n             })\n             toast.error(ctx.error.message)\n             setIsLoading(false)\n        }\n    })\n  }\n\n  async function handleSocialSignIn(provider: \"google\" | \"github\") {\n    await authClient.signIn.social({\n      provider,\n      callbackURL: \"/dashboard\",\n    }, {\n      onSuccess: () => {\n        toast.success(`Signed in with ${provider} successfully!`)\n      },\n      onError: (ctx) => {\n        toast.error(ctx.error.message)\n      }\n    })\n  }\n\n  return (\n    <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n      <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n        <div className=\"p-8 pb-6\">\n          <Link href=\"/\" aria-label=\"go home\">\n            <AppLogoIcon className=\"h-10 fill-current text-black sm:h-12\" />\n          </Link>\n          <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Create your account</h1>\n          <p className=\"text-sm text-muted-foreground\">Welcome! Please fill in your details to get started</p>\n\n          <div className=\"mt-6 grid grid-cols-2 gap-3\">\n            <Button type=\"button\" variant=\"outline\" disabled={isLoading} onClick={() => handleSocialSignIn(\"google\")}>\n              <Icons.google className=\"h-4 w-4\" />\n              <span>Google</span>\n            </Button>\n            <Button type=\"button\" variant=\"outline\" disabled={isLoading} onClick={() => handleSocialSignIn(\"github\")}>\n              <Icons.gitHub className=\"h-4 w-4\" />\n              <span>Github</span>\n            </Button>\n          </div>\n\n          <hr className=\"my-4 border-dashed\" />\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Name</FormLabel>\n                    <FormControl>\n                      <Input placeholder=\"John Doe\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Email</FormLabel>\n                    <FormControl>\n                      <Input type=\"email\" placeholder=\"you@example.com\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"text-sm\">Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowPassword(!showPassword)}\n                        >\n                          {showPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"confirmPassword\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"text-sm\">Confirm Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showConfirmPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                        >\n                          {showConfirmPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showConfirmPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Creating account...' : 'Continue'}\n              </Button>\n            </form>\n          </Form>\n        </div>\n\n        <div className=\"rounded-lg border bg-muted p-3\">\n          <p className=\"text-center text-sm\">\n            Already have an account?\n            <Button asChild variant=\"link\" className=\"ml-3 px-2\">\n              <Link href=\"/auth/sign-in\">Sign in</Link>\n            </Button>\n          </p>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/sign-up.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/verify-email.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { verifyEmailSchema, type VerifyEmailInput } from '@/lib/auth-schemas'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\nimport { AppLogoIcon } from '@/components/icons'\nimport {\n  InputOTP,\n  InputOTPGroup,\n  InputOTPSlot,\n} from \"@/components/ui/input-otp\"\nimport { authClient } from '@/lib/auth-client'\nimport { useRouter } from 'next/navigation'\nimport { toast } from 'sonner'\nimport { useEffect } from 'react'\n\nexport function VerifyEmail() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n  const [resendLoading, setResendLoading] = useState(false)\n  const [countdown, setCountdown] = useState(60)\n  const [canResend, setCanResend] = useState(false)\n  const [email, setEmail] = useState('')\n\n  useEffect(() => {\n    const storedEmail = sessionStorage.getItem(\"verify_email\")\n    if (storedEmail) setEmail(storedEmail)\n  }, [])\n\n  useEffect(() => {\n    let timer: NodeJS.Timeout\n    if (countdown > 0 && !canResend) {\n      timer = setTimeout(() => setCountdown(countdown - 1), 1000)\n    } else {\n      setCanResend(true)\n    }\n    return () => clearTimeout(timer)\n  }, [countdown, canResend])\n\n  const form = useForm<VerifyEmailInput>({\n    resolver: zodResolver(verifyEmailSchema),\n    defaultValues: {\n      code: '',\n    },\n  })\n\n  async function onSubmit(data: VerifyEmailInput) {\n    setIsLoading(true)\n    await authClient.emailOtp.verifyEmail({\n        email: email, // Use state email\n        otp: data.code,\n    }, {\n        onSuccess: () => {\n            toast.success(\"Email verified successfully!\")\n            sessionStorage.removeItem(\"verify_email\")\n            router.push(\"/auth/sign-in\")\n        },\n        onError: (ctx) => {\n             form.setError('root', {\n                message: ctx.error.message,\n             })\n             toast.error(ctx.error.message)\n             setIsLoading(false)\n        }\n    })\n  }\n\n  async function handleResendCode() {\n    if (!email) {\n        toast.error(\"No email found to resend code.\")\n        return\n    }\n    setResendLoading(true)\n    setCanResend(false)\n    setCountdown(60)\n\n    await authClient.emailOtp.sendVerificationOtp({\n        email,\n        type: \"email-verification\"\n    }, {\n        onSuccess: () => {\n             toast.success(\"Code resent! Check your email.\")\n             setResendLoading(false)\n        },\n        onError: (ctx) => {\n            toast.error(ctx.error.message)\n            setCanResend(true)\n            setCountdown(0)\n            setResendLoading(false)\n        }\n    })\n  }\n\n  return (\n    <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n      <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n        <div className=\"p-8 pb-6\">\n          <Link href=\"/\" aria-label=\"go home\">\n            <AppLogoIcon className=\"h-10 fill-current text-black sm:h-12\" />\n          </Link>\n          <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Verify your email</h1>\n          <p className=\"text-sm text-muted-foreground\">We sent a verification code to {email}</p>\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"code\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Verification Code</FormLabel>\n                    <FormControl>\n                      <InputOTP maxLength={6} {...field}>\n                        <InputOTPGroup className=\"w-full justify-center\">\n                          <InputOTPSlot index={0} />\n                          <InputOTPSlot index={1} />\n                          <InputOTPSlot index={2} />\n                          <InputOTPSlot index={3} />\n                          <InputOTPSlot index={4} />\n                          <InputOTPSlot index={5} />\n                        </InputOTPGroup>\n                      </InputOTP>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Verifying...' : 'Verify email'}\n              </Button>\n            </form>\n          </Form>\n        </div>\n\n        <div className=\"rounded-lg border bg-muted p-3\">\n          <p className=\"text-center text-sm\">\n            Didn&apos;t receive the code?\n            <Button\n              asChild\n              variant=\"link\"\n              className=\"ml-3 px-2\"\n              onClick={(e) => {\n                e.preventDefault()\n                handleResendCode()\n              }}\n            >\n              <button disabled={!canResend || resendLoading}>\n                {resendLoading ? 'Resending...' : canResend ? 'Resend' : `Resend in ${countdown}s`}\n              </button>\n            </Button>\n          </p>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/verify-email.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/forget-password.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { forgetPasswordSchema, type ForgetPasswordInput } from '@/lib/auth-schemas'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\n\nimport { AppLogoIcon } from '@/components/icons'\nimport { authClient } from '@/lib/auth-client'\nimport { useRouter } from 'next/navigation'\nimport { toast } from 'sonner'\n\nexport function ForgetPassword() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n\n  const form = useForm<ForgetPasswordInput>({\n    resolver: zodResolver(forgetPasswordSchema),\n    defaultValues: {\n      email: '',\n    },\n  })\n\n  async function onSubmit(data: ForgetPasswordInput) {\n    setIsLoading(true)\n    await authClient.emailOtp.sendVerificationOtp({\n        email: data.email,\n        type: \"forget-password\",\n    }, {\n        onSuccess: () => {\n             toast.success(\"If an account exists, a reset code has been sent.\")\n             sessionStorage.setItem(\"reset_email\", data.email)\n             router.push(\"/auth/reset-password\")\n        },\n        onError: (ctx) => {\n             form.setError('root', {\n                message: ctx.error.message,\n             })\n             toast.error(ctx.error.message)\n             setIsLoading(false)\n        }\n    })\n    setIsLoading(false)\n  }\n\n  return (\n    <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n      <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n        <div className=\"p-8 pb-6\">\n          <Link href=\"/\" aria-label=\"go home\">\n            <AppLogoIcon className=\"h-10 fill-current text-black sm:h-12\" />\n          </Link>\n          <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Reset password</h1>\n          <p className=\"text-sm text-muted-foreground\">Enter your email address and we&apos;ll send you a link to reset your password</p>\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Email</FormLabel>\n                    <FormControl>\n                      <Input type=\"email\" placeholder=\"you@example.com\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Sending...' : 'Send reset link'}\n              </Button>\n            </form>\n          </Form>\n        </div>\n\n        <div className=\"rounded-lg border bg-muted p-3\">\n          <p className=\"text-center text-sm\">\n            Remember your password?\n            <Button asChild variant=\"link\" className=\"ml-3 px-2\">\n              <Link href=\"/sign-in\">Sign in</Link>\n            </Button>\n          </p>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/forget-password.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/reset-password.tsx",
      "content": "'use client'\n\nimport { useState, useEffect } from 'react'\nimport Link from 'next/link'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { z } from 'zod'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\nimport {\n  InputOTP,\n  InputOTPGroup,\n  InputOTPSlot,\n} from \"@/components/ui/input-otp\"\n\nimport { AppLogoIcon } from '@/components/icons'\nimport { authClient } from '@/lib/auth-client'\nimport { useRouter } from 'next/navigation'\nimport { toast } from 'sonner'\nimport { Eye, EyeOff } from 'lucide-react'\n\nconst resetPasswordOtpSchema = z.object({\n  otp: z.string().min(6, \"Please enter the 6-digit code\"),\n  password: z.string().min(8, \"Password must be at least 8 characters\"),\n  confirmPassword: z.string(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n})\n\ntype ResetPasswordOtpInput = z.infer<typeof resetPasswordOtpSchema>\n\nexport function ResetPassword() {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [email, setEmail] = useState<string | null>(null)\n\n  useEffect(() => {\n    const storedEmail = sessionStorage.getItem(\"reset_email\")\n    if (storedEmail) {\n      setEmail(storedEmail)\n    }\n  }, [])\n\n  const form = useForm<ResetPasswordOtpInput>({\n    resolver: zodResolver(resetPasswordOtpSchema),\n    defaultValues: {\n      otp: '',\n      password: '',\n      confirmPassword: '',\n    },\n  })\n\n  async function onSubmit(data: ResetPasswordOtpInput) {\n    if (!email) {\n      toast.error(\"Email not found. Please go back and request a new reset code.\")\n      return\n    }\n\n    setIsLoading(true)\n    await authClient.emailOtp.resetPassword({\n      email: email,\n      otp: data.otp,\n      password: data.password,\n    }, {\n      onSuccess: () => {\n        toast.success(\"Password reset successfully! Please log in.\")\n        sessionStorage.removeItem(\"reset_email\")\n        router.push(\"/auth/sign-in\")\n      },\n      onError: (ctx) => {\n        form.setError('root', {\n          message: ctx.error.message,\n        })\n        toast.error(ctx.error.message)\n        setIsLoading(false)\n      }\n    })\n    setIsLoading(false)\n  }\n\n  async function handleResendOtp() {\n    if (!email) {\n      toast.error(\"Email not found. Please go back and request a new reset code.\")\n      return\n    }\n\n    await authClient.emailOtp.sendVerificationOtp({\n      email: email,\n      type: \"forget-password\",\n    }, {\n      onSuccess: () => {\n        toast.success(\"A new reset code has been sent to your email.\")\n      },\n      onError: (ctx) => {\n        toast.error(ctx.error.message)\n      }\n    })\n  }\n\n  if (!email) {\n    return (\n      <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n        <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n          <div className=\"p-8 pb-6 text-center\">\n            <AppLogoIcon className=\"h-10 mx-auto fill-current text-black sm:h-12\" />\n            <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Session Expired</h1>\n            <p className=\"text-sm text-muted-foreground mb-6\">\n              Please request a new password reset code.\n            </p>\n            <Button asChild className=\"w-full\">\n              <Link href=\"/auth/forgot-password\">Request Reset Code</Link>\n            </Button>\n          </div>\n        </div>\n      </section>\n    )\n  }\n\n  return (\n    <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n      <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n        <div className=\"p-8 pb-6\">\n          <Link href=\"/\" aria-label=\"go home\">\n            <AppLogoIcon className=\"h-10 fill-current text-black sm:h-12\" />\n          </Link>\n          <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Reset your password</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            Enter the 6-digit code sent to <span className=\"font-medium\">{email}</span> and your new password.\n          </p>\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"otp\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Verification Code</FormLabel>\n                    <FormControl>\n                      <InputOTP maxLength={6} {...field}>\n                        <InputOTPGroup className=\"w-full flex justify-between\">\n                          <InputOTPSlot index={0} className=\"flex-1\" />\n                          <InputOTPSlot index={1} className=\"flex-1\" />\n                          <InputOTPSlot index={2} className=\"flex-1\" />\n                          <InputOTPSlot index={3} className=\"flex-1\" />\n                          <InputOTPSlot index={4} className=\"flex-1\" />\n                          <InputOTPSlot index={5} className=\"flex-1\" />\n                        </InputOTPGroup>\n                      </InputOTP>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">New Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowPassword(!showPassword)}\n                        >\n                          {showPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"confirmPassword\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Confirm Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showConfirmPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                        >\n                          {showConfirmPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showConfirmPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Updating...' : 'Reset Password'}\n              </Button>\n            </form>\n          </Form>\n\n          <div className=\"mt-4 text-center\">\n            <Button variant=\"link\" onClick={handleResendOtp} className=\"text-sm\">\n              Didn&apos;t receive the code? Resend\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border bg-muted p-3\">\n          <p className=\"text-center text-sm\">\n            Remember your password?\n            <Button asChild variant=\"link\" className=\"ml-3 px-2\">\n              <Link href=\"/auth/sign-in\">Sign in</Link>\n            </Button>\n          </p>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/reset-password.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/reset-password-template.tsx",
      "content": "\r\nimport * as React from 'react';\r\nimport { Html, Head, Body, Container, Text, Heading, Section, Link } from '@react-email/components';\r\n\r\ninterface ResetPasswordTemplateProps {\r\n  url: string;\r\n}\r\n\r\nexport const ResetPasswordTemplate: React.FC<ResetPasswordTemplateProps> = ({ url }) => (\r\n  <Html>\r\n    <Head />\r\n    <Body style={main}>\r\n      <Container style={container}>\r\n        <Heading style={h1}>Reset your password</Heading>\r\n        <Text style={text}>Click the link below to reset your password. If you didn't request this, please ignore this email.</Text>\r\n        <Section style={btnContainer}>\r\n          <Link href={url} style={button}>\r\n            Reset Password\r\n          </Link>\r\n        </Section>\r\n        <Text style={text}>\r\n            Or copy and paste this URL into your browser:\r\n            <br />\r\n            <Link href={url} style={link}>{url}</Link>\r\n        </Text>\r\n      </Container>\r\n    </Body>\r\n  </Html>\r\n);\r\n\r\nconst main = {\r\n  backgroundColor: '#ffffff',\r\n  fontFamily: '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\r\n};\r\n\r\nconst container = {\r\n  margin: '0 auto',\r\n  padding: '20px 0 48px',\r\n  width: '560px',\r\n};\r\n\r\nconst h1 = {\r\n  fontSize: '24px',\r\n  fontWeight: 'bold',\r\n  paddingTop: '32px',\r\n  paddingBottom: '32px',\r\n};\r\n\r\nconst text = {\r\n  fontSize: '16px',\r\n  lineHeight: '26px',\r\n};\r\n\r\nconst btnContainer = {\r\n  textAlign: 'center' as const,\r\n  margin: '20px 0',\r\n};\r\n\r\nconst button = {\r\n  backgroundColor: '#0070f3',\r\n  borderRadius: '5px',\r\n  color: '#fff',\r\n  fontSize: '16px',\r\n  fontWeight: 'bold',\r\n  textDecoration: 'none',\r\n  textAlign: 'center' as const,\r\n  display: 'inline-block',\r\n  width: '100%',\r\n  padding: '12px 20px',\r\n};\r\n\r\nconst link = {\r\n    color: '#0070f3',\r\n    textDecoration: 'underline',\r\n};\r\n",
      "type": "registry:component",
      "target": "components/emails/reset-password-template.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/change-password.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { passwordChangeSchema, type PasswordChangeInput } from '@/lib/auth-schemas'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\n\nimport { AppLogoIcon } from '@/components/icons'\nimport { authClient } from '@/lib/auth-client'\nimport { toast } from 'sonner'\nimport { Eye, EyeOff } from 'lucide-react'\n\nexport function ChangePassword() {\n  const [isLoading, setIsLoading] = useState(false)\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false)\n  const [showNewPassword, setShowNewPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n\n  const form = useForm<PasswordChangeInput>({\n    resolver: zodResolver(passwordChangeSchema),\n    defaultValues: {\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n    },\n  })\n\n  async function onSubmit(data: PasswordChangeInput) {\n    setIsLoading(true)\n    await authClient.changePassword({\n        currentPassword: data.currentPassword,\n        newPassword: data.newPassword,\n        revokeOtherSessions: true,\n    }, {\n         onSuccess: () => {\n            toast.success(\"Password changed successfully.\")\n            form.reset()\n            setIsLoading(false)\n         },\n         onError: (ctx) => {\n             form.setError('root', {\n                message: ctx.error.message,\n             })\n             toast.error(ctx.error.message)\n             setIsLoading(false)\n         }\n    })\n  }\n\n  return (\n    <section className=\"flex min-h-screen bg-zinc-50 px-4 py-16 md:py-32 dark:bg-transparent\">\n      <div className=\"bg-card m-auto h-fit w-full max-w-md rounded-lg border p-0.5 shadow-md\">\n        <div className=\"p-8 pb-6\">\n          <Link href=\"/\" aria-label=\"go home\">\n            <AppLogoIcon className=\"h-10 fill-current text-black sm:h-12\" />\n          </Link>\n          <h1 className=\"mb-1 mt-4 text-xl font-semibold\">Change password</h1>\n          <p className=\"text-sm text-muted-foreground\">Update your password to keep your account secure</p>\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n              <FormField\n                control={form.control}\n                name=\"currentPassword\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Current Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showCurrentPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowCurrentPassword(!showCurrentPassword)}\n                        >\n                          {showCurrentPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showCurrentPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"newPassword\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">New Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showNewPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowNewPassword(!showNewPassword)}\n                        >\n                          {showNewPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showNewPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"confirmPassword\"\n                render={({ field }) => (\n                  <FormItem className=\"space-y-2\">\n                    <FormLabel className=\"block text-sm\">Confirm Password</FormLabel>\n                    <FormControl>\n                      <div className=\"relative\">\n                        <Input\n                          type={showConfirmPassword ? 'text' : 'password'}\n                          placeholder=\"••••••••\"\n                          className=\"pr-10\"\n                          {...field}\n                        />\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                          onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                        >\n                          {showConfirmPassword ? (\n                            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n                          ) : (\n                            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                          )}\n                          <span className=\"sr-only\">\n                            {showConfirmPassword ? 'Hide password' : 'Show password'}\n                          </span>\n                        </Button>\n                      </div>\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <Button className=\"w-full\" type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Updating...' : 'Update password'}\n              </Button>\n            </form>\n          </Form>\n        </div>\n\n        <div className=\"rounded-lg border bg-muted p-3\">\n          <p className=\"text-center text-sm\">\n            Go back to your profile\n            <Button asChild variant=\"link\" className=\"ml-3 px-2\">\n              <Link href=\"/profile\">My profile</Link>\n            </Button>\n          </p>\n        </div>\n      </div>\n    </section>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/change-password.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/logout-button.tsx",
      "content": "'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { authClient } from '@/lib/auth-client'\nimport { toast } from 'sonner'\nimport { LogOut } from 'lucide-react'\n\ninterface LogoutButtonProps {\n  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link'\n  size?: 'default' | 'sm' | 'lg' | 'icon'\n  showIcon?: boolean\n  className?: string\n}\n\nexport function LogoutButton({\n  variant = 'outline',\n  size = 'default',\n  showIcon = true,\n  className\n}: LogoutButtonProps) {\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(false)\n\n  async function handleLogout() {\n    setIsLoading(true)\n    await authClient.signOut({\n      fetchOptions: {\n        onSuccess: () => {\n          toast.success(\"Logged out successfully\")\n          router.push(\"/auth/sign-in\")\n        },\n        onError: (ctx) => {\n          toast.error(ctx.error.message || \"Failed to logout\")\n          setIsLoading(false)\n        }\n      }\n    })\n  }\n\n  return (\n    <Button\n      variant={variant}\n      size={size}\n      onClick={handleLogout}\n      disabled={isLoading}\n      className={className}\n    >\n      {showIcon && <LogOut className=\"h-4 w-4 mr-2\" />}\n      {isLoading ? 'Logging out...' : 'Logout'}\n    </Button>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/auth/logout-button.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/profile.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { ArrowLeft, Upload, RefreshCw, Sun, Bell } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nconst personalInfoSchema = z.object({\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n});\n\nconst professionalInfoSchema = z.object({\n  jobTitle: z.string().optional(),\n  bio: z.string().optional(),\n});\n\ntype PersonalInfoInput = z.infer<typeof personalInfoSchema>;\ntype ProfessionalInfoInput = z.infer<typeof professionalInfoSchema>;\n\ninterface ProfileProps {\n  user?: {\n    name?: string | null;\n    email?: string | null;\n    image?: string | null;\n  };\n}\n\nexport function Profile({ user }: ProfileProps) {\n  const [isLoadingPersonal, setIsLoadingPersonal] = useState(false);\n  const [isLoadingProfessional, setIsLoadingProfessional] = useState(false);\n\n  const nameParts = user?.name?.split(\" \") || [\"\", \"\"];\n  const firstName = nameParts[0] || \"\";\n  const lastName = nameParts.slice(1).join(\" \") || \"\";\n\n  const personalForm = useForm<PersonalInfoInput>({\n    resolver: zodResolver(personalInfoSchema),\n    defaultValues: {\n      firstName,\n      lastName,\n    },\n  });\n\n  const professionalForm = useForm<ProfessionalInfoInput>({\n    resolver: zodResolver(professionalInfoSchema),\n    defaultValues: {\n      jobTitle: \"\",\n      bio: \"\",\n    },\n  });\n\n  const initials =\n    `${firstName[0] || \"\"}${lastName[0] || \"\"}`.toUpperCase() || \"U\";\n\n  async function onSubmitPersonal(data: PersonalInfoInput) {\n    setIsLoadingPersonal(true);\n    try {\n      console.log(\"Update personal info:\", data);\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      toast.success(\"Personal information updated successfully\");\n    } catch (error) {\n      console.error(\"Update personal info error:\", error);\n      toast.error(\"Failed to update personal information\");\n    } finally {\n      setIsLoadingPersonal(false);\n    }\n  }\n\n  async function onSubmitProfessional(data: ProfessionalInfoInput) {\n    setIsLoadingProfessional(true);\n    try {\n      console.log(\"Update professional info:\", data);\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      toast.success(\"Professional information updated successfully\");\n    } catch (error) {\n      console.error(\"Update professional info error:\", error);\n      toast.error(\"Failed to update professional information\");\n    } finally {\n      setIsLoadingProfessional(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-muted/30\">\n      {/* Header */}\n      <header className=\"flex h-16 items-center justify-between border-b bg-background px-6\">\n        <div className=\"flex items-center gap-4\">\n          <Link href=\"/dashboard\">\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <ArrowLeft className=\"h-4 w-4\" />\n            </Button>\n          </Link>\n          <div>\n            <h1 className=\"text-lg font-semibold\">Profile Information</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              Update your personal information and profile picture\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"ghost\" size=\"icon\">\n            <RefreshCw className=\"h-5 w-5 text-muted-foreground\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\">\n            <Sun className=\"h-5 w-5 text-muted-foreground\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\n            <Bell className=\"h-5 w-5 text-muted-foreground\" />\n            <span className=\"absolute top-1 right-1 h-2 w-2 rounded-full bg-red-500\" />\n          </Button>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"p-6\">\n        <div className=\"grid gap-6 lg:grid-cols-2\">\n          {/* Left Column */}\n          <div className=\"space-y-6\">\n            {/* Profile Picture Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base\">Profile Picture</CardTitle>\n                <CardDescription>\n                  Update your profile picture to be recognized by your team.\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"flex items-center gap-6\">\n                <Avatar className=\"h-24 w-24\">\n                  <AvatarImage\n                    src={user?.image || \"\"}\n                    alt={user?.name || \"User\"}\n                  />\n                  <AvatarFallback className=\"text-2xl bg-muted\">\n                    {initials}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"space-y-2\">\n                  <Button variant=\"outline\" size=\"sm\">\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                    Upload New\n                  </Button>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Recommended: Square JPG, PNG, or GIF, at least 1000x1000\n                    pixels.\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Account Settings Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base\">Account Settings</CardTitle>\n                <CardDescription>\n                  Manage your account credentials and verification.\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium\">Email Address</label>\n                  <Input\n                    type=\"email\"\n                    value={user?.email || \"\"}\n                    disabled\n                    className=\"bg-muted/50\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Email address cannot be changed directly. Please contact\n                    support if you need to update it.\n                  </p>\n                </div>\n                <div className=\"pt-2\">\n                  <Link href=\"/auth/change-password\">\n                    <Button variant=\"outline\" size=\"sm\">\n                      Change Password\n                    </Button>\n                  </Link>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Right Column */}\n          <div className=\"space-y-6\">\n            {/* Personal Information Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base\">Personal Information</CardTitle>\n                <CardDescription>\n                  Update your personal details here.\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Form {...personalForm}>\n                  <form\n                    onSubmit={personalForm.handleSubmit(onSubmitPersonal)}\n                    className=\"space-y-4\"\n                  >\n                    <div className=\"grid gap-4 sm:grid-cols-2\">\n                      <FormField\n                        control={personalForm.control}\n                        name=\"firstName\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>First Name</FormLabel>\n                            <FormControl>\n                              <Input placeholder=\"John\" {...field} />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <FormField\n                        control={personalForm.control}\n                        name=\"lastName\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Last Name</FormLabel>\n                            <FormControl>\n                              <Input placeholder=\"Doe\" {...field} />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n                    <div className=\"flex justify-end\">\n                      <Button\n                        type=\"submit\"\n                        disabled={isLoadingPersonal}\n                        className=\"bg-violet-500 hover:bg-violet-600\"\n                      >\n                        {isLoadingPersonal ? \"Saving...\" : \"Save Personal Info\"}\n                      </Button>\n                    </div>\n                  </form>\n                </Form>\n              </CardContent>\n            </Card>\n\n            {/* Professional Information Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base\">\n                  Professional Information\n                </CardTitle>\n                <CardDescription>\n                  Share your professional background and role.\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Form {...professionalForm}>\n                  <form\n                    onSubmit={professionalForm.handleSubmit(onSubmitProfessional)}\n                    className=\"space-y-4\"\n                  >\n                    <FormField\n                      control={professionalForm.control}\n                      name=\"jobTitle\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Job Title</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"Web developer\" {...field} />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <FormField\n                      control={professionalForm.control}\n                      name=\"bio\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Bio</FormLabel>\n                          <FormControl>\n                            <Textarea\n                              placeholder=\"Tell us about yourself...\"\n                              className=\"min-h-[100px] resize-none\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <div className=\"flex justify-end\">\n                      <Button\n                        type=\"submit\"\n                        disabled={isLoadingProfessional}\n                        className=\"bg-violet-500 hover:bg-violet-600\"\n                      >\n                        {isLoadingProfessional\n                          ? \"Saving...\"\n                          : \"Save Professional Info\"}\n                      </Button>\n                    </div>\n                  </form>\n                </Form>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/auth/profile.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/icons.tsx",
      "content": "import React from 'react'\nimport { ChevronLeft, Github, Loader2, LucideCrop as LucideProps } from 'lucide-react'\n\nexport const Icons = {\n  chevronLeft: ChevronLeft,\n  google: GoogleIcon,\n  gitHub: GithubIcon,\n  spinner: Loader2,\n}\n\nexport function AppLogoIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg {...props} viewBox=\"0 0 40 42\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M17.2 5.63325L8.6 0.855469L0 5.63325V32.1434L16.2 41.1434L32.4 32.1434V23.699L40 19.4767V9.85547L31.4 5.07769L22.8 9.85547V18.2999L17.2 21.411V5.63325ZM38 18.2999L32.4 21.411V15.2545L38 12.1434V18.2999ZM36.9409 10.4439L31.4 13.5221L25.8591 10.4439L31.4 7.36561L36.9409 10.4439ZM24.8 18.2999V12.1434L30.4 15.2545V21.411L24.8 18.2999ZM23.8 20.0323L29.3409 23.1105L16.2 30.411L10.6591 27.3328L23.8 20.0323ZM7.6 27.9212L15.2 32.1434V38.2999L2 30.9666V7.92116L7.6 11.0323V27.9212ZM8.6 9.29991L3.05913 6.22165L8.6 3.14339L14.1409 6.22165L8.6 9.29991ZM30.4 24.8101L17.2 32.1434V38.2999L30.4 30.9666V24.8101ZM9.6 11.0323L15.2 7.92117V22.5221L9.6 25.6333V11.0323Z\"\n      />\n    </svg>\n  )\n}\n\nexport function GoogleIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"1em\"\n      height=\"1em\"\n      viewBox=\"0 0 256 262\"\n      {...props}\n    >\n      <path\n        fill=\"#4285f4\"\n        d=\"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027\"\n      />\n      <path\n        fill=\"#34a853\"\n        d=\"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1\"\n      />\n      <path\n        fill=\"#fbbc05\"\n        d=\"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602z\"\n      />\n      <path\n        fill=\"#eb4335\"\n        d=\"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251\"\n      />\n    </svg>\n  )\n}\n\nexport function GithubIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"1em\"\n      height=\"1em\"\n      viewBox=\"0 0 256 256\"\n      {...props}\n    >\n      <path\n        fill=\"#000000\"\n        d=\"M128 0C57.307 0 0 57.307 0 128c0 56.562 36.665 104.535 87.535 121.469 6.405 1.19 8.753-2.781 8.753-6.17 0-3.063-.122-11.175-.174-21.935-35.606 7.738-43.122-17.178-43.122-17.178-5.83-14.814-14.222-18.757-14.222-18.757-11.64-7.96.877-7.803.877-7.803 12.88.907 19.67 13.237 19.67 13.237 11.437 19.59 29.992 13.928 37.292 10.646 1.14-8.292 4.48-13.933 8.147-17.14-28.426-3.237-58.337-14.213-58.337-63.287 0-13.977 5-25.412 13.237-34.374-1.32-3.24-5.73-16.274 1.256-33.932 0 0 10.8-3.457 35.4 13.146 10.263-2.847 21.285-4.27 32.243-4.32 10.957.05 21.982 1.474 32.25 4.32 24.59-16.603 35.38-13.146 35.38-13.146 7 17.658 2.58 30.692 1.26 33.932 8.25 8.96 13.22 20.397 13.22 34.374 0 49.2-29.96 60-58.44 63.167 4.6 3.97 8.72 11.767 8.72 23.77 0 17.17-.155 30.983-.155 35.195 0 3.407 2.328 7.4 8.8 6.158C219.34 232.508 256 184.546 256 128 256 57.307 198.693 0 128 0z\"\n      />\n    </svg>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/icons.tsx"
    },
    {
      "path": "registry/default/ui/auth-forms/index.ts",
      "content": "export { SignIn } from './sign-in'\nexport { SignUp } from './sign-up'\nexport { ForgetPassword } from './forget-password'\nexport { ResetPassword } from './reset-password'\nexport { VerifyEmail } from './verify-email'\nexport { Profile } from './profile'\nexport { ChangePassword } from './change-password'\nexport { LogoutButton } from './logout-button'\n",
      "type": "registry:component",
      "target": "components/auth/index.ts"
    },
    {
      "path": "registry/default/ui/emails/otp-template.tsx",
      "content": "import * as React from \"react\";\nimport {\n  Html,\n  Head,\n  Body,\n  Container,\n  Text,\n  Heading,\n  Section,\n} from \"@react-email/components\";\n\ninterface OTPTemplateProps {\n  otp: string;\n}\n\nexport const OTPTemplate: React.FC<OTPTemplateProps> = ({ otp }) => (\n  <Html>\n    <Head />\n    <Body style={main}>\n      <Container style={container}>\n        <Heading style={h1}>Verification Code</Heading>\n        <Text style={text}>Your verification code is:</Text>\n        <Section style={codeBox}>\n          <Text style={code}>{otp}</Text>\n        </Section>\n        <Text style={text}>It will expire in 10 minutes.</Text>\n      </Container>\n    </Body>\n  </Html>\n);\n\nconst main = {\n  backgroundColor: \"#ffffff\",\n  fontFamily:\n    '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n};\n\nconst container = {\n  margin: \"0 auto\",\n  padding: \"20px 0 48px\",\n  width: \"560px\",\n};\n\nconst h1 = {\n  fontSize: \"24px\",\n  fontWeight: \"bold\",\n  paddingTop: \"32px\",\n  paddingBottom: \"32px\",\n};\n\nconst text = {\n  fontSize: \"16px\",\n  lineHeight: \"26px\",\n};\n\nconst codeBox = {\n  background: \"#f4f4f4\",\n  borderRadius: \"4px\",\n  margin: \"16px 0\",\n  padding: \"16px\",\n  textAlign: \"center\" as const,\n};\n\nconst code = {\n  fontSize: \"24px\",\n  fontWeight: \"bold\",\n  letterSpacing: \"4px\",\n  margin: \"0\",\n};\n",
      "type": "registry:component",
      "target": "components/emails/otp-template.tsx"
    },
    {
      "path": "registry/default/lib/auth-client.ts",
      "content": "import { createAuthClient } from \"better-auth/react\";\r\nimport { emailOTPClient } from \"better-auth/client/plugins\";\r\n\r\nexport const authClient = createAuthClient({\r\n  baseURL: process.env.BETTER_AUTH_URL, // e.g. http://localhost:3000\r\n  plugins: [\r\n    emailOTPClient(),\r\n  ],\r\n});\r\n",
      "type": "registry:lib",
      "target": "lib/auth-client.ts"
    },
    {
      "path": "registry/default/lib/auth-schemas.ts",
      "content": "import { z } from 'zod'\n\nexport const signUpSchema = z.object({\n  name: z.string().min(2, 'Name must be at least 2 characters'),\n  email: z.string().email('Please enter a valid email address'),\n  password: z.string()\n    .min(8, 'Password must be at least 8 characters')\n    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\n    .regex(/[0-9]/, 'Password must contain at least one number'),\n  confirmPassword: z.string(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n})\n\nexport const signInSchema = z.object({\n  email: z.string().email('Please enter a valid email address'),\n  password: z.string().min(1, 'Password is required'),\n})\n\nexport const forgetPasswordSchema = z.object({\n  email: z.string().email('Please enter a valid email address'),\n})\n\nexport const resetPasswordSchema = z.object({\n  password: z.string()\n    .min(8, 'Password must be at least 8 characters')\n    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\n    .regex(/[0-9]/, 'Password must contain at least one number'),\n  confirmPassword: z.string(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n})\n\nexport const verifyEmailSchema = z.object({\n  code: z.string().length(6, 'Code must be 6 digits'),\n})\n\nexport const profileSchema = z.object({\n  firstName: z.string().min(2, 'First name must be at least 2 characters'),\n  lastName: z.string().min(2, 'Last name must be at least 2 characters'),\n  email: z.string().email('Please enter a valid email address'),\n  phone: z.string().optional(),\n  imageUrl: z.string().url().optional().or(z.literal('')),\n})\n\nexport const passwordChangeSchema = z.object({\n  currentPassword: z.string().min(1, 'Current password is required'),\n  newPassword: z.string()\n    .min(8, 'Password must be at least 8 characters')\n    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\n    .regex(/[0-9]/, 'Password must contain at least one number'),\n  confirmPassword: z.string(),\n}).refine((data) => data.newPassword === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n}).refine((data) => data.currentPassword !== data.newPassword, {\n  message: \"New password must be different from current password\",\n  path: [\"newPassword\"],\n})\n\nexport type SignUpInput = z.infer<typeof signUpSchema>\nexport type SignInInput = z.infer<typeof signInSchema>\nexport type ForgetPasswordInput = z.infer<typeof forgetPasswordSchema>\nexport type ResetPasswordInput = z.infer<typeof resetPasswordSchema>\nexport type VerifyEmailInput = z.infer<typeof verifyEmailSchema>\nexport type ProfileInput = z.infer<typeof profileSchema>\nexport type PasswordChangeInput = z.infer<typeof passwordChangeSchema>\n",
      "type": "registry:lib",
      "target": "lib/auth-schemas.ts"
    },
    {
      "path": "registry/default/lib/prisma.ts",
      "content": "import { PrismaPg } from \"@prisma/adapter-pg\";\nimport { PrismaClient } from \"./generated/prisma/client\";\n\nconst globalForPrisma = global as unknown as {\n  prisma: PrismaClient;\n};\n\nconst adapter = new PrismaPg({\n  connectionString: process.env.DATABASE_URL,\n});\n\nconst prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    adapter,\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\nexport default prisma;\n",
      "type": "registry:lib",
      "target": "lib/prisma.ts"
    },
    {
      "path": "registry/default/lib/auth.ts",
      "content": "import { betterAuth } from \"better-auth\";\nimport { prismaAdapter } from \"better-auth/adapters/prisma\";\nimport prisma from \"./prisma\";\nimport { emailOTP } from \"better-auth/plugins\";\nimport { sendVerificationEmail, sendResetPasswordEmail } from \"./email\";\n\nexport const auth = betterAuth({\n  database: prismaAdapter(prisma, {\n    provider: \"postgresql\",\n  }),\n  emailAndPassword: {\n    enabled: true,\n    requireEmailVerification: true,\n    async sendResetPassword(data, request) {\n      try {\n        await sendResetPasswordEmail(data.user.email, data.url);\n      } catch (error) {\n        console.error(\"Error sending reset password email:\", error);\n      }\n    },\n  },\n  socialProviders: {\n    google: {\n      clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\",\n    },\n    github: {\n      clientId: process.env.GITHUB_CLIENT_ID || \"\",\n      clientSecret: process.env.GITHUB_CLIENT_SECRET || \"\",\n    },\n  },\n  plugins: [\n    emailOTP({\n      async sendVerificationOTP({ email, otp, type }) {\n        try {\n          await sendVerificationEmail(email, otp);\n        } catch (e) {\n          console.error(\"Error in sendVerificationOTP plugin wrapper:\", e);\n          // Fallback logging for development\n          console.log(`[DEV FALLBACK] OTP for ${email}: ${otp}`);\n        }\n      },\n    }),\n  ],\n});\n",
      "type": "registry:lib",
      "target": "lib/auth.ts"
    },
    {
      "path": "registry/default/lib/email.tsx",
      "content": "import { Resend } from \"resend\";\nimport { OTPTemplate } from \"@/components/emails/otp-template\";\nimport { ResetPasswordTemplate } from \"@/components/emails/reset-password-template\";\n\nconst resend = new Resend(process.env.RESEND_API_KEY);\n\nexport async function sendVerificationEmail(email: string, otp: string) {\n  try {\n    console.log(`Attempting to send OTP email to ${email}...`);\n\n    if (!process.env.RESEND_API_KEY) {\n      console.warn(\"WARNING: RESEND_API_KEY is not set. Email sending will likely fail.\");\n    }\n\n    const { data, error } = await resend.emails.send({\n      from: process.env.RESEND_FROM_EMAIL || \"onboarding@resend.dev\",\n      to: email,\n      subject: \"Your Verification Code\",\n      react: <OTPTemplate otp={otp} />,\n    });\n\n    if (error) {\n      console.error(\"Resend API Error:\", error);\n      throw error;\n    }\n\n    console.log(`Email sent successfully to ${email}. ID:`, data?.id);\n    return data;\n  } catch (error) {\n    console.error(\"Failed to send verification email:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error Message:\", error.message);\n      console.error(\"Error Stack:\", error.stack);\n    }\n    throw error;\n  }\n}\n\nexport async function sendResetPasswordEmail(email: string, url: string) {\n  try {\n    console.log(`Attempting to send Reset Password email to ${email}...`);\n\n    if (!process.env.RESEND_API_KEY) {\n      console.warn(\"WARNING: RESEND_API_KEY is not set. Email sending will likely fail.\");\n    }\n\n    const { data, error } = await resend.emails.send({\n      from: process.env.RESEND_FROM_EMAIL || \"onboarding@resend.dev\",\n      to: email,\n      subject: \"Reset your password\",\n      react: <ResetPasswordTemplate url={url} />,\n    });\n\n    if (error) {\n      console.error(\"Resend API Error:\", error);\n      throw error;\n    }\n\n    console.log(`Reset Password email sent successfully to ${email}. ID:`, data?.id);\n    return data;\n  } catch (error) {\n    console.error(\"Failed to send reset password email:\", error);\n    if (error instanceof Error) {\n      console.error(\"Error Message:\", error.message);\n      console.error(\"Error Stack:\", error.stack);\n    }\n    throw error;\n  }\n}\n",
      "type": "registry:lib",
      "target": "lib/email.tsx"
    },
    {
      "path": "registry/default/prisma/schema.prisma",
      "content": "generator client {\n  provider = \"prisma-client\"\n  output   = \"../lib/generated/prisma\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n}\n\nmodel User {\n  id            String    @id @default(cuid())\n  email         String    @unique\n  name          String?\n  emailVerified Boolean\n  image         String?\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n  role          String?   @default(\"user\")\n  sessions      Session[]\n  accounts      Account[]\n\n  @@map(\"user\")\n}\n\nmodel Session {\n  id        String   @id @default(cuid())\n  userId    String\n  token     String\n  expiresAt DateTime\n  ipAddress String?\n  userAgent String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@map(\"session\")\n}\n\nmodel Account {\n  id                    String    @id @default(cuid())\n  userId                String\n  accountId             String\n  providerId            String\n  accessToken           String?\n  refreshToken          String?\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String?\n  password              String?\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@map(\"account\")\n}\n\nmodel Verification {\n  id         String   @id @default(cuid())\n  identifier String\n  value      String\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  @@map(\"verification\")\n}\n",
      "type": "registry:file",
      "target": "prisma/schema.prisma"
    },
    {
      "path": "registry/default/prisma.config.ts",
      "content": "import \"dotenv/config\";\nimport { defineConfig } from \"prisma/config\";\n\nexport default defineConfig({\n  schema: \"prisma/schema.prisma\",\n  migrations: {\n    path: \"prisma/migrations\",\n  },\n  datasource: {\n    url: process.env[\"DATABASE_URL\"],\n  },\n});\n",
      "type": "registry:file",
      "target": "prisma.config.ts"
    },
    {
      "path": "registry/default/pages/api/auth/[...all]/route.ts",
      "content": "import { auth } from \"@/lib/auth\";\nimport { toNextJsHandler } from \"better-auth/next-js\";\n\nexport const dynamic = \"force-dynamic\";\n\nexport const { GET, POST } = toNextJsHandler(auth);\n",
      "type": "registry:page",
      "target": "app/api/auth/[...all]/route.ts"
    },
    {
      "path": "registry/default/pages/auth/sign-in/page.tsx",
      "content": "import { SignIn } from \"@/components/auth\";\n\nexport default function SignInPage() {\n  return <SignIn />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/sign-in/page.tsx"
    },
    {
      "path": "registry/default/pages/auth/sign-up/page.tsx",
      "content": "import { SignUp } from \"@/components/auth\";\n\nexport default function SignUpPage() {\n  return <SignUp />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/sign-up/page.tsx"
    },
    {
      "path": "registry/default/pages/auth/verify-email/page.tsx",
      "content": "import { VerifyEmail } from \"@/components/auth\";\n\nexport default function VerifyEmailPage() {\n  return <VerifyEmail />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/verify-email/page.tsx"
    },
    {
      "path": "registry/default/pages/auth/forgot-password/page.tsx",
      "content": "import { ForgetPassword } from \"@/components/auth\";\n\nexport default function ForgotPasswordPage() {\n  return <ForgetPassword />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/forgot-password/page.tsx"
    },
    {
      "path": "registry/default/pages/auth/reset-password/page.tsx",
      "content": "import { ResetPassword } from \"@/components/auth\";\n\nexport default function ResetPasswordPage() {\n  return <ResetPassword />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/reset-password/page.tsx"
    },
    {
      "path": "registry/default/pages/auth/change-password/page.tsx",
      "content": "import { ChangePassword } from \"@/components/auth\";\n\nexport default function ChangePasswordPage() {\n  return <ChangePassword />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/change-password/page.tsx"
    },
    {
      "path": "registry/default/pages/auth/profile/page.tsx",
      "content": "import { Profile } from \"@/components/auth\";\n\nexport default function ProfilePage() {\n  return <Profile />;\n}\n",
      "type": "registry:page",
      "target": "app/(auth)/auth/profile/page.tsx"
    },
    {
      "path": "registry/default/env.example",
      "content": "# Better Auth Configuration\n# Generate secret with: openssl rand -base64 32\nBETTER_AUTH_SECRET=\"\"\nBETTER_AUTH_URL=\"http://localhost:3000\"\n\n# Database (PostgreSQL recommended)\n# Example: postgresql://user:password@host:5432/dbname\nDATABASE_URL=\"\"\n\n# Email Provider (Resend)\n# Get your API key at: https://resend.com\nRESEND_FROM_EMAIL=\"\"\nRESEND_API_KEY=\"\"\n\n# OAuth Providers (Optional)\n# Google: https://console.cloud.google.com/apis/credentials\nGOOGLE_CLIENT_ID=\"\"\nGOOGLE_CLIENT_SECRET=\"\"\n\n# GitHub: https://github.com/settings/developers\nGITHUB_CLIENT_ID=\"\"\nGITHUB_CLIENT_SECRET=\"\"\n",
      "type": "registry:file",
      "target": ".env.example"
    },
    {
      "path": "registry/default/pages/layout.tsx",
      "content": "import type { Metadata } from \"next\";\nimport { Inter } from \"next/font/google\";\nimport \"./globals.css\";\nimport { Toaster } from \"sonner\";\n\nconst inter = Inter({ subsets: [\"latin\"] });\n\nexport const metadata: Metadata = {\n  title: \"My App\",\n  description: \"My application with Better Auth\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body className={inter.className}>\n        {children}\n        <Toaster richColors />\n      </body>\n    </html>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/layout.tsx"
    },
    {
      "path": "registry/default/pages/dashboard/page.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  TrendingUp,\n  TrendingDown,\n  DollarSign,\n  CreditCard,\n  Activity,\n  Users,\n  HelpCircle,\n  Search,\n  Download,\n  Filter,\n  MoreHorizontal,\n  Globe,\n  Mail,\n  Share2,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { LogoutButton } from \"@/components/auth/logout-button\";\n\nconst stats = [\n  {\n    title: \"Total Sales\",\n    value: \"$18,200\",\n    change: \"+10.2%\",\n    trend: \"up\",\n    description: \"vs last month\",\n  },\n  {\n    title: \"Operating Expenses\",\n    value: \"$18,200\",\n    change: \"-5.75%\",\n    trend: \"down\",\n    description: \"vs last month\",\n  },\n  {\n    title: \"Gross Profit\",\n    value: \"$18,200\",\n    change: \"+8.65%\",\n    trend: \"up\",\n    description: \"vs last month\",\n  },\n];\n\nconst sourceData = [\n  { name: \"Website\", value: 5846, percentage: 65, color: \"bg-primary\" },\n  { name: \"Social Media\", value: 2490, percentage: 20, color: \"bg-blue-400\" },\n  { name: \"Email\", value: 1857, percentage: 10, color: \"bg-violet-400\" },\n  { name: \"Referral\", value: 1245, percentage: 5, color: \"bg-orange-400\" },\n];\n\nconst revenueData = [\n  { month: \"Jan\", revenue: 8000 },\n  { month: \"Feb\", revenue: 12000 },\n  { month: \"Mar\", revenue: 15000 },\n  { month: \"April\", revenue: 18000 },\n  { month: \"May\", revenue: 28000 },\n  { month: \"Jun\", revenue: 22000 },\n  { month: \"July\", revenue: 19000 },\n  { month: \"Aug\", revenue: 16000 },\n  { month: \"Sep\", revenue: 14000 },\n];\n\nconst salesData = [\n  {\n    id: 1,\n    dealName: \"Bargain Bonanza\",\n    company: \"Amazon.com, Inc\",\n    companyLogo: \"A\",\n    price: \"$850,000.00\",\n    dateCreated: \"Mon, 12 April 2025\",\n    owner: \"Jenny Wilson\",\n    ownerAvatar: \"JW\",\n    stage: \"New\",\n  },\n  {\n    id: 2,\n    dealName: \"Discount Delights\",\n    company: \"Xiaomi Corporation\",\n    companyLogo: \"X\",\n    price: \"$990,000.00\",\n    dateCreated: \"Mon, 11 April 2025\",\n    owner: \"Leslie Alexander\",\n    ownerAvatar: \"LA\",\n    stage: \"New\",\n  },\n  {\n    id: 3,\n    dealName: \"Price Slayers\",\n    company: \"Apple, Inc\",\n    companyLogo: \"A\",\n    price: \"$450,000.00\",\n    dateCreated: \"Mon, 11 April 2025\",\n    owner: \"Cody Fisher\",\n    ownerAvatar: \"CF\",\n    stage: \"New\",\n  },\n];\n\nexport default function DashboardPage() {\n  const [selectedTab, setSelectedTab] = useState(\"overview\");\n  const maxRevenue = Math.max(...revenueData.map((d) => d.revenue));\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      {/* Header */}\n      <header className=\"flex h-16 items-center justify-between border-b bg-background px-6\">\n        <div className=\"flex items-center gap-4\">\n          <SidebarTrigger className=\"-ml-2\" />\n          <Separator orientation=\"vertical\" className=\"h-6\" />\n          <h1 className=\"text-xl font-semibold\">Dashboard</h1>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\">\n            <HelpCircle className=\"h-5 w-5 text-muted-foreground\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\">\n            <Search className=\"h-5 w-5 text-muted-foreground\" />\n          </Button>\n          <div className=\"flex -space-x-2\">\n            <Avatar className=\"h-8 w-8 border-2 border-background\">\n              <AvatarFallback className=\"bg-orange-100 text-orange-600 text-xs\">\n                JD\n              </AvatarFallback>\n            </Avatar>\n            <Avatar className=\"h-8 w-8 border-2 border-background\">\n              <AvatarFallback className=\"bg-blue-100 text-blue-600 text-xs\">\n                AB\n              </AvatarFallback>\n            </Avatar>\n            <Avatar className=\"h-8 w-8 border-2 border-background\">\n              <AvatarFallback className=\"bg-green-100 text-green-600 text-xs\">\n                CD\n              </AvatarFallback>\n            </Avatar>\n          </div>\n          <LogoutButton variant=\"outline\" size=\"sm\" />\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"flex-1 p-6 space-y-6\">\n        {/* Tabs */}\n        <div className=\"flex items-center justify-between\">\n          <Tabs value={selectedTab} onValueChange={setSelectedTab}>\n            <TabsList className=\"bg-muted/50\">\n              <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n              <TabsTrigger value=\"sales\">Sales</TabsTrigger>\n              <TabsTrigger value=\"order\">Order</TabsTrigger>\n              <TabsTrigger value=\"report\">Report</TabsTrigger>\n            </TabsList>\n          </Tabs>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"outline\" size=\"sm\">\n              <Filter className=\"h-4 w-4 mr-2\" />\n              Filter\n            </Button>\n            <Button size=\"sm\" className=\"bg-orange-500 hover:bg-orange-600\">\n              <Download className=\"h-4 w-4 mr-2\" />\n              Export\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          {stats.map((stat) => (\n            <Card key={stat.title} className=\"bg-background\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">\n                      {stat.title}\n                    </p>\n                    <div className=\"flex items-center gap-3 mt-2\">\n                      <p className=\"text-2xl font-bold\">{stat.value}</p>\n                      <div className=\"flex items-center gap-1\">\n                        <div className=\"flex gap-0.5\">\n                          {[1, 2, 3, 4, 5].map((i) => (\n                            <div\n                              key={i}\n                              className={`w-1 rounded-full ${\n                                i <= 3 ? \"bg-primary\" : \"bg-muted\"\n                              }`}\n                              style={{ height: `${8 + i * 3}px` }}\n                            />\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-1 mt-2\">\n                      <Badge\n                        variant=\"secondary\"\n                        className={`text-xs ${\n                          stat.trend === \"up\"\n                            ? \"bg-green-100 text-green-700\"\n                            : \"bg-red-100 text-red-700\"\n                        }`}\n                      >\n                        {stat.trend === \"up\" ? (\n                          <TrendingUp className=\"h-3 w-3 mr-1\" />\n                        ) : (\n                          <TrendingDown className=\"h-3 w-3 mr-1\" />\n                        )}\n                        {stat.change}\n                      </Badge>\n                      <span className=\"text-xs text-muted-foreground\">\n                        {stat.description}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {/* Charts Row */}\n        <div className=\"grid gap-4 lg:grid-cols-5\">\n          {/* Revenue Forecast */}\n          <Card className=\"lg:col-span-3 bg-background\">\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n              <div>\n                <CardTitle className=\"text-base font-semibold\">\n                  Revenue Forecast\n                </CardTitle>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Select defaultValue=\"monthly\">\n                  <SelectTrigger className=\"w-[100px] h-8 text-xs\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"daily\">Daily</SelectItem>\n                    <SelectItem value=\"weekly\">Weekly</SelectItem>\n                    <SelectItem value=\"monthly\">Monthly</SelectItem>\n                  </SelectContent>\n                </Select>\n                <Select defaultValue=\"contacts\">\n                  <SelectTrigger className=\"w-[100px] h-8 text-xs\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"contacts\">Contacts</SelectItem>\n                    <SelectItem value=\"leads\">Leads</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"h-[250px] flex items-end gap-2\">\n                {revenueData.map((data, index) => (\n                  <div key={data.month} className=\"flex-1 flex flex-col items-center gap-2\">\n                    <div\n                      className={`w-full rounded-t-md transition-all ${\n                        index === 4\n                          ? \"bg-primary\"\n                          : \"bg-muted hover:bg-muted-foreground/20\"\n                      }`}\n                      style={{\n                        height: `${(data.revenue / maxRevenue) * 180}px`,\n                      }}\n                    />\n                    <span className=\"text-xs text-muted-foreground\">\n                      {data.month}\n                    </span>\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex items-center justify-center gap-6 mt-4 pt-4 border-t\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-primary\" />\n                  <span className=\"text-xs text-muted-foreground\">\n                    Sales revenue\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-muted\" />\n                  <span className=\"text-xs text-muted-foreground\">\n                    Sales revenue\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-muted-foreground/30\" />\n                  <span className=\"text-xs text-muted-foreground\">\n                    Sales revenue\n                  </span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Source */}\n          <Card className=\"lg:col-span-2 bg-background\">\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n              <div>\n                <CardTitle className=\"text-base font-semibold\">Source</CardTitle>\n              </div>\n              <Select defaultValue=\"contacts\">\n                <SelectTrigger className=\"w-[100px] h-8 text-xs\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"contacts\">Contacts</SelectItem>\n                  <SelectItem value=\"leads\">Leads</SelectItem>\n                </SelectContent>\n              </Select>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex items-center gap-4 mb-6\">\n                <div>\n                  <p className=\"text-3xl font-bold\">12,450</p>\n                  <p className=\"text-sm text-muted-foreground\">Total source</p>\n                </div>\n                <div className=\"flex gap-1 flex-1\">\n                  {sourceData.map((source) => (\n                    <div\n                      key={source.name}\n                      className={`h-8 rounded ${source.color}`}\n                      style={{ width: `${source.percentage}%` }}\n                    />\n                  ))}\n                </div>\n              </div>\n              <div className=\"space-y-4\">\n                {sourceData.map((source) => (\n                  <div key={source.name} className=\"flex items-center gap-3\">\n                    <div className=\"flex items-center gap-2 flex-1\">\n                      {source.name === \"Website\" && (\n                        <Globe className=\"h-4 w-4 text-muted-foreground\" />\n                      )}\n                      {source.name === \"Social Media\" && (\n                        <Share2 className=\"h-4 w-4 text-muted-foreground\" />\n                      )}\n                      {source.name === \"Email\" && (\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                      )}\n                      {source.name === \"Referral\" && (\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\n                      )}\n                      <span className=\"text-sm\">{source.name}</span>\n                    </div>\n                    <span className=\"text-sm font-medium\">\n                      {source.value.toLocaleString()}\n                    </span>\n                    <span className=\"text-sm text-muted-foreground w-10\">\n                      {source.percentage}%\n                    </span>\n                  </div>\n                ))}\n              </div>\n              <Button variant=\"outline\" className=\"w-full mt-4\" size=\"sm\">\n                View Details\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Table */}\n        <Card className=\"bg-background\">\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <CardTitle className=\"text-base font-semibold\">\n              Table Data Sales\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search data\"\n                  className=\"pl-8 h-9 w-[200px]\"\n                />\n              </div>\n              <Button variant=\"outline\" size=\"sm\">\n                Sort by\n              </Button>\n              <Button variant=\"outline\" size=\"sm\">\n                <Filter className=\"h-4 w-4 mr-2\" />\n                Filter\n              </Button>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead className=\"w-[40px]\">\n                    <Checkbox />\n                  </TableHead>\n                  <TableHead>Deal name</TableHead>\n                  <TableHead>Company</TableHead>\n                  <TableHead>Price</TableHead>\n                  <TableHead>Date created</TableHead>\n                  <TableHead>Owner</TableHead>\n                  <TableHead>Stage</TableHead>\n                  <TableHead className=\"w-[40px]\"></TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {salesData.map((sale) => (\n                  <TableRow key={sale.id}>\n                    <TableCell>\n                      <Checkbox />\n                    </TableCell>\n                    <TableCell className=\"font-medium\">\n                      {sale.dealName}\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-2\">\n                        <Avatar className=\"h-6 w-6\">\n                          <AvatarFallback className=\"text-xs bg-muted\">\n                            {sale.companyLogo}\n                          </AvatarFallback>\n                        </Avatar>\n                        {sale.company}\n                      </div>\n                    </TableCell>\n                    <TableCell>{sale.price}</TableCell>\n                    <TableCell className=\"text-muted-foreground\">\n                      {sale.dateCreated}\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-2\">\n                        <Avatar className=\"h-6 w-6\">\n                          <AvatarFallback className=\"text-xs bg-primary/10 text-primary\">\n                            {sale.ownerAvatar}\n                          </AvatarFallback>\n                        </Avatar>\n                        {sale.owner}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge\n                        variant=\"secondary\"\n                        className=\"bg-blue-100 text-blue-700\"\n                      >\n                        {sale.stage}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>\n                      <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                        <MoreHorizontal className=\"h-4 w-4\" />\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      </main>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/dashboard/page.tsx"
    },
    {
      "path": "registry/default/pages/dashboard/layout.tsx",
      "content": "import { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\nimport { SidebarProvider, SidebarInset } from \"@/components/ui/sidebar\";\nimport { AppSidebar } from \"@/components/dashboard/app-sidebar\";\n\nexport const dynamic = \"force-dynamic\";\n\nexport default async function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const session = await auth.api.getSession({\n    headers: await headers(),\n  });\n\n  if (!session) {\n    redirect(\"/auth/sign-in\");\n  }\n\n  return (\n    <SidebarProvider>\n      <AppSidebar\n        user={{\n          name: session.user.name,\n          email: session.user.email,\n          image: session.user.image,\n        }}\n      />\n      <SidebarInset className=\"bg-muted/30\">\n        {children}\n      </SidebarInset>\n    </SidebarProvider>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/dashboard/layout.tsx"
    },
    {
      "path": "registry/default/ui/dashboard/app-sidebar.tsx",
      "content": "\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  LayoutDashboard,\n  Users,\n  Building2,\n  Handshake,\n  CheckSquare,\n  Package,\n  Mail,\n  Puzzle,\n  Settings,\n  ChevronLeft,\n  User,\n} from \"lucide-react\";\n\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarRail,\n  useSidebar,\n} from \"@/components/ui/sidebar\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\n\nconst mainMenuItems = [\n  {\n    title: \"Dashboard\",\n    url: \"/dashboard\",\n    icon: LayoutDashboard,\n  },\n  {\n    title: \"Contacts\",\n    url: \"/dashboard/contacts\",\n    icon: Users,\n  },\n  {\n    title: \"Companies\",\n    url: \"/dashboard/companies\",\n    icon: Building2,\n  },\n  {\n    title: \"Deals\",\n    url: \"/dashboard/deals\",\n    icon: Handshake,\n  },\n  {\n    title: \"Tasks\",\n    url: \"/dashboard/tasks\",\n    icon: CheckSquare,\n  },\n];\n\nconst marketingItems = [\n  {\n    title: \"Products\",\n    url: \"/dashboard/products\",\n    icon: Package,\n  },\n  {\n    title: \"Emails\",\n    url: \"/dashboard/emails\",\n    icon: Mail,\n  },\n];\n\nconst preferencesItems = [\n  {\n    title: \"Integrations\",\n    url: \"/dashboard/integrations\",\n    icon: Puzzle,\n  },\n  {\n    title: \"Settings\",\n    url: \"/dashboard/settings\",\n    icon: Settings,\n  },\n];\n\ninterface AppSidebarProps {\n  user?: {\n    name?: string | null;\n    email?: string | null;\n    image?: string | null;\n  };\n}\n\nexport function AppSidebar({ user }: AppSidebarProps) {\n  const pathname = usePathname();\n  const { state, toggleSidebar } = useSidebar();\n  const isCollapsed = state === \"collapsed\";\n\n  const initials = user?.name\n    ?.split(\" \")\n    .map((n) => n[0])\n    .join(\"\")\n    .toUpperCase() || \"U\";\n\n  return (\n    <Sidebar collapsible=\"icon\" className=\"border-r bg-background\">\n      <SidebarHeader className=\"border-b px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          <Link href=\"/dashboard\" className=\"flex items-center gap-2\">\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold\">\n              JB\n            </div>\n            {!isCollapsed && (\n              <span className=\"font-semibold text-lg\">Better Auth</span>\n            )}\n          </Link>\n          {!isCollapsed && (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8\"\n              onClick={toggleSidebar}\n            >\n              <ChevronLeft className=\"h-4 w-4\" />\n            </Button>\n          )}\n        </div>\n      </SidebarHeader>\n\n      <SidebarContent className=\"px-2\">\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">\n            Main Menu\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {mainMenuItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={pathname === item.url}\n                    tooltip={item.title}\n                    className={cn(\n                      \"transition-colors\",\n                      pathname === item.url &&\n                        \"bg-primary text-primary-foreground hover:bg-primary/90 hover:text-primary-foreground\"\n                    )}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">\n            Marketing\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {marketingItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={pathname === item.url}\n                    tooltip={item.title}\n                    className={cn(\n                      \"transition-colors\",\n                      pathname === item.url &&\n                        \"bg-primary text-primary-foreground hover:bg-primary/90 hover:text-primary-foreground\"\n                    )}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">\n            Preferences\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {preferencesItems.map((item) => (\n                <SidebarMenuItem key={item.title}>\n                  <SidebarMenuButton\n                    asChild\n                    isActive={pathname === item.url}\n                    tooltip={item.title}\n                    className={cn(\n                      \"transition-colors\",\n                      pathname === item.url &&\n                        \"bg-primary text-primary-foreground hover:bg-primary/90 hover:text-primary-foreground\"\n                    )}\n                  >\n                    <Link href={item.url}>\n                      <item.icon className=\"h-4 w-4\" />\n                      <span>{item.title}</span>\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n\n      <SidebarFooter className=\"border-t p-4\">\n        {!isCollapsed && (\n          <div className=\"mb-4 rounded-lg bg-muted p-3\">\n            <p className=\"text-xs text-muted-foreground mb-1\">20 days left</p>\n            <p className=\"text-xs text-muted-foreground mb-2\">\n              Upgrade to premium and enjoy the benefits for a long time.\n            </p>\n            <Button size=\"sm\" variant=\"outline\" className=\"w-full text-xs\">\n              View plan\n            </Button>\n          </div>\n        )}\n        <Link\n          href=\"/profile\"\n          className=\"flex items-center gap-3 rounded-lg p-2 hover:bg-muted transition-colors\"\n        >\n          <Avatar className=\"h-9 w-9\">\n            <AvatarImage src={user?.image || \"\"} alt={user?.name || \"User\"} />\n            <AvatarFallback className=\"bg-primary/10 text-primary text-sm\">\n              {initials}\n            </AvatarFallback>\n          </Avatar>\n          {!isCollapsed && (\n            <div className=\"flex-1 overflow-hidden\">\n              <p className=\"text-sm font-medium truncate\">\n                {user?.name || \"User\"}\n              </p>\n              <p className=\"text-xs text-muted-foreground truncate\">\n                {user?.email || \"user@example.com\"}\n              </p>\n            </div>\n          )}\n        </Link>\n      </SidebarFooter>\n\n      <SidebarRail />\n    </Sidebar>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/dashboard/app-sidebar.tsx"
    },
    {
      "path": "registry/default/pages/profile/page.tsx",
      "content": "import { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\nimport { Profile } from \"@/components/auth\";\n\nexport const dynamic = \"force-dynamic\";\n\nexport default async function ProfilePage() {\n  const session = await auth.api.getSession({\n    headers: await headers(),\n  });\n\n  if (!session) {\n    redirect(\"/auth/sign-in\");\n  }\n\n  return (\n    <Profile\n      user={{\n        name: session.user.name,\n        email: session.user.email,\n        image: session.user.image,\n      }}\n    />\n  );\n}\n",
      "type": "registry:page",
      "target": "app/profile/page.tsx"
    }
  ],
  "type": "registry:block"
}